{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useAuth}from'../contexts/AuthContext';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,BarChart,Bar}from'recharts';import ChatBot from'../components/ChatBot';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const[performanceData,setPerformanceData]=useState([]);const[loading,setLoading]=useState(true);const[allUsers,setAllUsers]=useState([]);const[stats,setStats]=useState({totalStudents:0,atRiskStudents:0,averageGpa:0});// Load predictions for all students to assess risk\nconst loadAllPredictions=students=>{const result=[];students.forEach(student=>{const key=\"predictions_\".concat(student.email.toLowerCase());const stored=localStorage.getItem(key);if(stored){try{const preds=JSON.parse(stored);if(Array.isArray(preds)&&preds.length>0){result.push({studentId:student.id||student._id,student,prediction:preds[0]});}}catch(e){console.log('Prediction parse error:',student.email);}}});return result;};const generatePerformanceTrends=(currentUser,allPredictions)=>{if(!currentUser)return[];// Get user's academic data from localStorage (try both id and email keys)\nlet academicData=localStorage.getItem(\"academic_\".concat(currentUser.id));if(!academicData){var _currentUser$email;academicData=localStorage.getItem(\"academic_\".concat((_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.toLowerCase()));}if(!academicData)return[];const data=JSON.parse(academicData);// Ensure values are numbers\nconst currentGpa=typeof data.previous_gpa==='number'?data.previous_gpa:parseFloat(data.previous_gpa)||3.0;const attendance=typeof data.attendance_percentage==='number'?data.attendance_percentage:parseFloat(data.attendance_percentage)||85;// Find user's prediction from all predictions\nconst userPrediction=allPredictions.find(p=>p.student_id===currentUser.id||p.studentEmail===currentUser.email);const riskScore=typeof(userPrediction===null||userPrediction===void 0?void 0:userPrediction.risk_score)==='number'?userPrediction.risk_score:parseFloat(userPrediction===null||userPrediction===void 0?void 0:userPrediction.risk_score)||0.3;// Create performance trends based on actual metrics\nreturn[{month:'Jan',attendance:Number(attendance),gpa:Number(currentGpa),riskScore:Number(riskScore)},{month:'Feb',attendance:Number(Math.min(100,attendance+Math.random()*10-5)),gpa:Number(Math.min(4.0,currentGpa+Math.random()*0.3-0.15)),riskScore:Number(riskScore)},{month:'Mar',attendance:Number(Math.min(100,attendance+Math.random()*10-5)),gpa:Number(Math.min(4.0,currentGpa+Math.random()*0.3-0.15)),riskScore:Number(riskScore)},{month:'Apr',attendance:Number(Math.min(100,attendance+Math.random()*10-5)),gpa:Number(Math.min(4.0,currentGpa+Math.random()*0.3-0.15)),riskScore:Number(riskScore)}];};useEffect(()=>{const loadDashboardData=async()=>{if(!user){setLoading(false);return;}try{// Load students data from backend ONLY (database)\nlet studentsFromDatabase=[];try{const res=await axios.get('http://localhost:8003/api/students/');studentsFromDatabase=res.data||[];}catch(err){console.error('Error loading students:',err);// Continue with empty array if API fails\n}// Filter: Only show students who have academic details in the database\n// Only include students that exist in the backend database\nconst studentsWithAcademicDetails=studentsFromDatabase.filter(student=>{// Check if student has academic details in backend (has previous_gpa or other academic fields)\nconst hasBackendDetails=student.previous_gpa!==undefined&&student.previous_gpa!==null&&student.attendance_percentage!==undefined;return hasBackendDetails;});// Only use students from database, ignore localStorage students that aren't in database\nsetAllUsers(studentsWithAcademicDetails);// Load predictions from localStorage (only for students in database)\nconst allPredictions=loadAllPredictions(studentsWithAcademicDetails);// Calculate stats - only for students with academic details from database\nconst totalStudents=studentsWithAcademicDetails.length;const atRiskStudents=allPredictions.filter(p=>{var _p$prediction;return((_p$prediction=p.prediction)===null||_p$prediction===void 0?void 0:_p$prediction.risk_score)>=0.6;}).length;// Calculate average GPA only for students with academic details from database\nconst studentsWithGpa=studentsWithAcademicDetails.filter(s=>{const gpa=typeof s.previous_gpa==='number'?s.previous_gpa:parseFloat(s.previous_gpa);return!isNaN(gpa)&&gpa>0;});const avgGpa=studentsWithGpa.length>0?studentsWithGpa.reduce((sum,s)=>{const gpa=typeof s.previous_gpa==='number'?s.previous_gpa:parseFloat(s.previous_gpa)||0;return sum+gpa;},0)/studentsWithGpa.length:0;setStats({totalStudents,atRiskStudents,averageGpa:typeof avgGpa==='number'&&!isNaN(avgGpa)?avgGpa.toFixed(2):'0.00'});// Generate performance trends for current user\nconst trends=generatePerformanceTrends(user,allPredictions);setPerformanceData(trends);}catch(error){console.error('Error loading dashboard data:',error);}finally{setLoading(false);}};loadDashboardData();},[user]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Student Performance System\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})]});}if(!user){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Student Performance System\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Welcome to Your Academic Success Platform\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Track performance, get predictions, and improve your academic journey\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='#login',className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\",children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='#signup',className:\"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700\",children:\"Sign Up\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Performance Tracking\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor your academic progress with detailed analytics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"AI Predictions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Get personalized performance predictions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Smart Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Receive actionable improvement suggestions\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"How It Works\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold\",children:\"1\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Create your account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold\",children:\"2\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Add Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Input academic information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold\",children:\"3\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Get Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"View performance insights\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold\",children:\"4\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Improve\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Follow recommendations\"})]})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Student Performance Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Students with Academic Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Students who have signed in and entered their academic details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:stats.totalStudents})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"At-Risk Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Students with academic details who are at risk\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-red-600\",children:stats.atRiskStudents})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Average GPA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Average GPA of students with academic details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600\",children:stats.averageGpa})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Your Performance Trends\"}),performanceData.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:performanceData.map((data,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"border p-3 rounded\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[data.month,\":\"]}),\" GPA \",typeof data.gpa==='number'?data.gpa.toFixed(2):'N/A',\", Attendance \",typeof data.attendance==='number'?data.attendance.toFixed(1):'N/A',\"%, Risk Score \",typeof data.riskScore==='number'?(data.riskScore*100).toFixed(0):'N/A',\"%\"]})},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"No performance data available.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Please add your academic details to see performance trends.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Students with Academic Details\"}),allUsers.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:allUsers.map((student,index)=>{var _student$email;const userEmail=((_student$email=student.email)===null||_student$email===void 0?void 0:_student$email.toLowerCase())||'';const userPrediction=localStorage.getItem(\"predictions_\".concat(userEmail));let riskScore=null;let riskLevel='low';if(userPrediction){try{const predictions=JSON.parse(userPrediction);if(predictions.length>0){riskScore=predictions[0].risk_score;riskLevel=riskScore>=0.6?'high':riskScore>=0.4?'medium':'low';}}catch(e){console.error('Error parsing prediction:',e);}}const gpa=typeof student.previous_gpa==='number'?student.previous_gpa:parseFloat(student.previous_gpa)||null;return/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 p-4 rounded \".concat(riskLevel==='high'?'border-red-500 bg-red-50':riskLevel==='medium'?'border-yellow-500 bg-yellow-50':'border-green-500 bg-green-50'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(riskLevel==='high'?'text-red-800':riskLevel==='medium'?'text-yellow-800':'text-green-800'),children:student.name||student.email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:student.email}),gpa!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium\",children:[\"GPA: \",gpa.toFixed(2)]}),student.attendance_percentage!==undefined&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Attendance: \",typeof student.attendance_percentage==='number'?student.attendance_percentage.toFixed(1):student.attendance_percentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:riskScore!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-semibold text-white \".concat(riskLevel==='high'?'bg-red-500':riskLevel==='medium'?'bg-yellow-500':'bg-green-500'),children:[\"Risk: \",(riskScore*100).toFixed(0),\"%\"]})})]})},index);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"No students with academic details found.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Students need to sign in and add their academic details to appear here.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"At-Risk Students\"}),allUsers.filter(u=>{const userEmail=u.email;const userPrediction=localStorage.getItem(\"predictions_\".concat(userEmail.toLowerCase()));if(userPrediction){const predictions=JSON.parse(userPrediction);if(predictions.length>0){return predictions[0].risk_score>=0.5;}}return false;}).length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:allUsers.filter(u=>{const userEmail=u.email;const userPrediction=localStorage.getItem(\"predictions_\".concat(userEmail.toLowerCase()));if(userPrediction){const predictions=JSON.parse(userPrediction);if(predictions.length>0){return predictions[0].risk_score>=0.5;}}return false;}).map((student,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 border-red-500 bg-red-50 p-4 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-red-800\",children:student.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:student.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"GPA: \",typeof student.previous_gpa==='number'?student.previous_gpa.toFixed(2):student.previous_gpa||'N/A']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold\",children:[\"Risk: \",(()=>{const predKey=\"predictions_\".concat(student.email.toLowerCase());const predData=localStorage.getItem(predKey);if(predData){try{var _predictions$;const predictions=JSON.parse(predData);const riskScore=(_predictions$=predictions[0])===null||_predictions$===void 0?void 0:_predictions$.risk_score;if(typeof riskScore==='number'){return(riskScore*100).toFixed(0);}}catch(e){console.error('Error parsing prediction:',e);}}return'0';})(),\"%\"]})})]})},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"No at-risk students found.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"All students are performing well!\"})]})]}),/*#__PURE__*/_jsx(ChatBot,{})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","BarChart","Bar","ChatBot","jsx","_jsx","jsxs","_jsxs","Dashboard","user","performanceData","setPerformanceData","loading","setLoading","allUsers","setAllUsers","stats","setStats","totalStudents","atRiskStudents","averageGpa","loadAllPredictions","students","result","forEach","student","key","concat","email","toLowerCase","stored","localStorage","getItem","preds","JSON","parse","Array","isArray","length","push","studentId","id","_id","prediction","e","console","log","generatePerformanceTrends","currentUser","allPredictions","academicData","_currentUser$email","data","currentGpa","previous_gpa","parseFloat","attendance","attendance_percentage","userPrediction","find","p","student_id","studentEmail","riskScore","risk_score","month","Number","gpa","Math","min","random","loadDashboardData","studentsFromDatabase","res","get","err","error","studentsWithAcademicDetails","filter","hasBackendDetails","undefined","_p$prediction","studentsWithGpa","s","isNaN","avgGpa","reduce","sum","toFixed","trends","className","children","onClick","window","location","href","map","index","_student$email","userEmail","riskLevel","predictions","name","u","predKey","predData","_predictions$"],"sources":["C:/Student Detection System/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\r\nimport ChatBot from '../components/ChatBot';\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useAuth();\r\n  const [performanceData, setPerformanceData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    totalStudents: 0,\r\n    atRiskStudents: 0,\r\n    averageGpa: 0\r\n  });\r\n\r\n  // Load predictions for all students to assess risk\r\n  const loadAllPredictions = (students) => {\r\n    const result = [];\r\n\r\n    students.forEach(student => {\r\n      const key = `predictions_${student.email.toLowerCase()}`;\r\n      const stored = localStorage.getItem(key);\r\n\r\n      if (stored) {\r\n        try {\r\n          const preds = JSON.parse(stored);\r\n          if (Array.isArray(preds) && preds.length > 0) {\r\n            result.push({\r\n              studentId: student.id || student._id,\r\n              student,\r\n              prediction: preds[0]\r\n            });\r\n          }\r\n        } catch (e) {\r\n          console.log('Prediction parse error:', student.email);\r\n        }\r\n      }\r\n    });\r\n\r\n    return result;\r\n  };\r\n\r\n  const generatePerformanceTrends = (currentUser, allPredictions) => {\r\n    if (!currentUser) return [];\r\n\r\n    // Get user's academic data from localStorage (try both id and email keys)\r\n    let academicData = localStorage.getItem(`academic_${currentUser.id}`);\r\n    if (!academicData) {\r\n      academicData = localStorage.getItem(`academic_${currentUser.email?.toLowerCase()}`);\r\n    }\r\n    if (!academicData) return [];\r\n\r\n    const data = JSON.parse(academicData);\r\n    // Ensure values are numbers\r\n    const currentGpa = typeof data.previous_gpa === 'number' ? data.previous_gpa : parseFloat(data.previous_gpa) || 3.0;\r\n    const attendance = typeof data.attendance_percentage === 'number' ? data.attendance_percentage : parseFloat(data.attendance_percentage) || 85;\r\n\r\n    // Find user's prediction from all predictions\r\n    const userPrediction = allPredictions.find(p => p.student_id === currentUser.id || p.studentEmail === currentUser.email);\r\n    const riskScore = typeof userPrediction?.risk_score === 'number' ? userPrediction.risk_score : parseFloat(userPrediction?.risk_score) || 0.3;\r\n\r\n    // Create performance trends based on actual metrics\r\n    return [\r\n      {\r\n        month: 'Jan',\r\n        attendance: Number(attendance),\r\n        gpa: Number(currentGpa),\r\n        riskScore: Number(riskScore)\r\n      },\r\n      {\r\n        month: 'Feb',\r\n        attendance: Number(Math.min(100, attendance + Math.random() * 10 - 5)),\r\n        gpa: Number(Math.min(4.0, currentGpa + Math.random() * 0.3 - 0.15)),\r\n        riskScore: Number(riskScore)\r\n      },\r\n      {\r\n        month: 'Mar',\r\n        attendance: Number(Math.min(100, attendance + Math.random() * 10 - 5)),\r\n        gpa: Number(Math.min(4.0, currentGpa + Math.random() * 0.3 - 0.15)),\r\n        riskScore: Number(riskScore)\r\n      },\r\n      {\r\n        month: 'Apr',\r\n        attendance: Number(Math.min(100, attendance + Math.random() * 10 - 5)),\r\n        gpa: Number(Math.min(4.0, currentGpa + Math.random() * 0.3 - 0.15)),\r\n        riskScore: Number(riskScore)\r\n      }\r\n    ];\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadDashboardData = async () => {\r\n      if (!user) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Load students data from backend ONLY (database)\r\n        let studentsFromDatabase = [];\r\n        try {\r\n          const res = await axios.get('http://localhost:8003/api/students/');\r\n          studentsFromDatabase = res.data || [];\r\n        } catch (err) {\r\n          console.error('Error loading students:', err);\r\n          // Continue with empty array if API fails\r\n        }\r\n\r\n        // Filter: Only show students who have academic details in the database\r\n        // Only include students that exist in the backend database\r\n        const studentsWithAcademicDetails = studentsFromDatabase.filter(student => {\r\n          // Check if student has academic details in backend (has previous_gpa or other academic fields)\r\n          const hasBackendDetails = student.previous_gpa !== undefined && \r\n                                   student.previous_gpa !== null &&\r\n                                   student.attendance_percentage !== undefined;\r\n          \r\n          return hasBackendDetails;\r\n        });\r\n\r\n        // Only use students from database, ignore localStorage students that aren't in database\r\n        setAllUsers(studentsWithAcademicDetails);\r\n\r\n        // Load predictions from localStorage (only for students in database)\r\n        const allPredictions = loadAllPredictions(studentsWithAcademicDetails);\r\n\r\n        // Calculate stats - only for students with academic details from database\r\n        const totalStudents = studentsWithAcademicDetails.length;\r\n        const atRiskStudents = allPredictions.filter(\r\n          p => p.prediction?.risk_score >= 0.6\r\n        ).length;\r\n        \r\n        // Calculate average GPA only for students with academic details from database\r\n        const studentsWithGpa = studentsWithAcademicDetails.filter(s => {\r\n          const gpa = typeof s.previous_gpa === 'number' ? s.previous_gpa : parseFloat(s.previous_gpa);\r\n          return !isNaN(gpa) && gpa > 0;\r\n        });\r\n        \r\n        const avgGpa = studentsWithGpa.length > 0\r\n          ? studentsWithGpa.reduce((sum, s) => {\r\n              const gpa = typeof s.previous_gpa === 'number' ? s.previous_gpa : parseFloat(s.previous_gpa) || 0;\r\n              return sum + gpa;\r\n            }, 0) / studentsWithGpa.length\r\n          : 0;\r\n\r\n        setStats({\r\n          totalStudents,\r\n          atRiskStudents,\r\n          averageGpa: typeof avgGpa === 'number' && !isNaN(avgGpa) ? avgGpa.toFixed(2) : '0.00'\r\n        });\r\n\r\n        // Generate performance trends for current user\r\n        const trends = generatePerformanceTrends(user, allPredictions);\r\n        setPerformanceData(trends);\r\n\r\n      } catch (error) {\r\n        console.error('Error loading dashboard data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadDashboardData();\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto p-6\">\r\n        <h1 className=\"text-3xl font-bold mb-6\">Student Performance System</h1>\r\n        <div className=\"text-center\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"container mx-auto p-6\">\r\n        <h1 className=\"text-3xl font-bold mb-6\">Student Performance System</h1>\r\n        \r\n        <div className=\"bg-white p-8 rounded-lg shadow-md mb-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Welcome to Your Academic Success Platform</h2>\r\n            <p className=\"text-gray-600 mb-6\">Track performance, get predictions, and improve your academic journey</p>\r\n            <div className=\"flex justify-center space-x-4\">\r\n              <button\r\n                onClick={() => window.location.href = '#login'}\r\n                className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Login\r\n              </button>\r\n              <button\r\n                onClick={() => window.location.href = '#signup'}\r\n                className=\"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700\"\r\n              >\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md text-center\">\r\n            <div className=\"text-4xl mb-4\">ðŸ“Š</div>\r\n            <h3 className=\"text-xl font-semibold mb-2\">Performance Tracking</h3>\r\n            <p className=\"text-gray-600\">Monitor your academic progress with detailed analytics</p>\r\n          </div>\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md text-center\">\r\n            <div className=\"text-4xl mb-4\">ðŸŽ¯</div>\r\n            <h3 className=\"text-xl font-semibold mb-2\">AI Predictions</h3>\r\n            <p className=\"text-gray-600\">Get personalized performance predictions</p>\r\n          </div>\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md text-center\">\r\n            <div className=\"text-4xl mb-4\">ðŸ’¡</div>\r\n            <h3 className=\"text-xl font-semibold mb-2\">Smart Recommendations</h3>\r\n            <p className=\"text-gray-600\">Receive actionable improvement suggestions</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">How It Works</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n                <span className=\"text-blue-600 font-bold\">1</span>\r\n              </div>\r\n              <h4 className=\"font-semibold\">Sign Up</h4>\r\n              <p className=\"text-sm text-gray-600\">Create your account</p>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n                <span className=\"text-blue-600 font-bold\">2</span>\r\n              </div>\r\n              <h4 className=\"font-semibold\">Add Details</h4>\r\n              <p className=\"text-sm text-gray-600\">Input academic information</p>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n                <span className=\"text-blue-600 font-bold\">3</span>\r\n              </div>\r\n              <h4 className=\"font-semibold\">Get Analysis</h4>\r\n              <p className=\"text-sm text-gray-600\">View performance insights</p>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2\">\r\n                <span className=\"text-blue-600 font-bold\">4</span>\r\n              </div>\r\n              <h4 className=\"font-semibold\">Improve</h4>\r\n              <p className=\"text-sm text-gray-600\">Follow recommendations</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Student Performance Dashboard</h1>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Students with Academic Details</h2>\r\n          <p className=\"text-sm text-gray-600 mb-4\">Students who have signed in and entered their academic details</p>\r\n          <p className=\"text-3xl font-bold text-blue-600\">{stats.totalStudents}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">At-Risk Students</h2>\r\n          <p className=\"text-sm text-gray-600 mb-4\">Students with academic details who are at risk</p>\r\n          <p className=\"text-3xl font-bold text-red-600\">{stats.atRiskStudents}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Average GPA</h2>\r\n          <p className=\"text-sm text-gray-600 mb-4\">Average GPA of students with academic details</p>\r\n          <p className=\"text-3xl font-bold text-green-600\">{stats.averageGpa}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Your Performance Trends</h2>\r\n        {performanceData.length > 0 ? (\r\n          <div className=\"space-y-2\">\r\n            {performanceData.map((data, index) => (\r\n              <div key={index} className=\"border p-3 rounded\">\r\n                <p><strong>{data.month}:</strong> GPA {typeof data.gpa === 'number' ? data.gpa.toFixed(2) : 'N/A'}, Attendance {typeof data.attendance === 'number' ? data.attendance.toFixed(1) : 'N/A'}%, Risk Score {typeof data.riskScore === 'number' ? (data.riskScore * 100).toFixed(0) : 'N/A'}%</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-600\">\r\n            <p className=\"mb-4\">No performance data available.</p>\r\n            <p className=\"text-sm\">Please add your academic details to see performance trends.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Students List - Only those with academic details */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-8\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Students with Academic Details</h2>\r\n        {allUsers.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {allUsers.map((student, index) => {\r\n              const userEmail = student.email?.toLowerCase() || '';\r\n              const userPrediction = localStorage.getItem(`predictions_${userEmail}`);\r\n              let riskScore = null;\r\n              let riskLevel = 'low';\r\n              \r\n              if (userPrediction) {\r\n                try {\r\n                  const predictions = JSON.parse(userPrediction);\r\n                  if (predictions.length > 0) {\r\n                    riskScore = predictions[0].risk_score;\r\n                    riskLevel = riskScore >= 0.6 ? 'high' : riskScore >= 0.4 ? 'medium' : 'low';\r\n                  }\r\n                } catch (e) {\r\n                  console.error('Error parsing prediction:', e);\r\n                }\r\n              }\r\n              \r\n              const gpa = typeof student.previous_gpa === 'number' \r\n                ? student.previous_gpa \r\n                : parseFloat(student.previous_gpa) || null;\r\n              \r\n              return (\r\n                <div \r\n                  key={index} \r\n                  className={`border-l-4 p-4 rounded ${\r\n                    riskLevel === 'high' ? 'border-red-500 bg-red-50' :\r\n                    riskLevel === 'medium' ? 'border-yellow-500 bg-yellow-50' :\r\n                    'border-green-500 bg-green-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className={`font-semibold ${\r\n                        riskLevel === 'high' ? 'text-red-800' :\r\n                        riskLevel === 'medium' ? 'text-yellow-800' :\r\n                        'text-green-800'\r\n                      }`}>\r\n                        {student.name || student.email}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">{student.email}</p>\r\n                      {gpa !== null && (\r\n                        <p className=\"text-sm font-medium\">GPA: {gpa.toFixed(2)}</p>\r\n                      )}\r\n                      {student.attendance_percentage !== undefined && (\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          Attendance: {typeof student.attendance_percentage === 'number' \r\n                            ? student.attendance_percentage.toFixed(1) \r\n                            : student.attendance_percentage}%\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      {riskScore !== null && (\r\n                        <span className={`px-3 py-1 rounded-full text-sm font-semibold text-white ${\r\n                          riskLevel === 'high' ? 'bg-red-500' :\r\n                          riskLevel === 'medium' ? 'bg-yellow-500' :\r\n                          'bg-green-500'\r\n                        }`}>\r\n                          Risk: {(riskScore * 100).toFixed(0)}%\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-600\">\r\n            <p className=\"mb-4\">No students with academic details found.</p>\r\n            <p className=\"text-sm\">Students need to sign in and add their academic details to appear here.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* At-Risk Students List */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">At-Risk Students</h2>\r\n        {allUsers.filter(u => {\r\n          const userEmail = u.email;\r\n          const userPrediction = localStorage.getItem(`predictions_${userEmail.toLowerCase()}`);\r\n          if (userPrediction) {\r\n            const predictions = JSON.parse(userPrediction);\r\n            if (predictions.length > 0) {\r\n              return predictions[0].risk_score >= 0.5;\r\n            }\r\n          }\r\n          return false;\r\n        }).length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {allUsers.filter(u => {\r\n              const userEmail = u.email;\r\n              const userPrediction = localStorage.getItem(`predictions_${userEmail.toLowerCase()}`);\r\n              if (userPrediction) {\r\n                const predictions = JSON.parse(userPrediction);\r\n                if (predictions.length > 0) {\r\n                  return predictions[0].risk_score >= 0.5;\r\n                }\r\n              }\r\n              return false;\r\n            }).map((student, index) => (\r\n              <div key={index} className=\"border-l-4 border-red-500 bg-red-50 p-4 rounded\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-red-800\">{student.name}</h3>\r\n                    <p className=\"text-sm text-gray-600\">{student.email}</p>\r\n                    <p className=\"text-sm\">GPA: {typeof student.previous_gpa === 'number' ? student.previous_gpa.toFixed(2) : (student.previous_gpa || 'N/A')}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <span className=\"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold\">\r\n                      Risk: {(() => {\r\n                        const predKey = `predictions_${student.email.toLowerCase()}`;\r\n                        const predData = localStorage.getItem(predKey);\r\n                        if (predData) {\r\n                          try {\r\n                            const predictions = JSON.parse(predData);\r\n                            const riskScore = predictions[0]?.risk_score;\r\n                            if (typeof riskScore === 'number') {\r\n                              return (riskScore * 100).toFixed(0);\r\n                            }\r\n                          } catch (e) {\r\n                            console.error('Error parsing prediction:', e);\r\n                          }\r\n                        }\r\n                        return '0';\r\n                      })()}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-600\">\r\n            <p className=\"mb-4\">No at-risk students found.</p>\r\n            <p className=\"text-sm\">All students are performing well!</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* AI ChatBot Assistant - Now floating in corner */}\r\n      <ChatBot />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}