{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import axios from'axios';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatBot=()=>{const{user}=useAuth();const[messages,setMessages]=useState([{id:1,text:\"Hello! I'm your AI assistant. I can help you with questions about student performance, risk analysis, and academic insights. What would you like to know?\",sender:'bot',timestamp:new Date()}]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const[sessionId]=useState(\"session_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9)));const[isOpen,setIsOpen]=useState(false);const messagesEndRef=useRef(null);const inputRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);const generateSessionId=()=>{return\"session_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9));};const sendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;console.log('ChatBot Debug - User object:',user);console.log('ChatBot Debug - User email:',user===null||user===void 0?void 0:user.email);console.log('ChatBot Debug - User logged in:',!!user);console.log('ChatBot Debug - Input message:',inputMessage);// Check if user is authenticated\nif(!user||!user.email){console.error('ChatBot Error - User not authenticated');const errorMessage={id:Date.now()+1,text:\"Please log in to use the chatbot. User authentication is required.\",sender:'bot',timestamp:new Date(),error:true};setMessages(prev=>[...prev,errorMessage]);return;}const messageToSend=inputMessage.trim();const userMessage={id:Date.now(),text:messageToSend,sender:'user',timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoading(true);try{const response=await axios.post('http://localhost:8004/api/chatbot/chat',{message:messageToSend,session_id:sessionId,user_email:user.email},{headers:{'Content-Type':'application/json'}});console.log('ChatBot Debug - API Response:',response.data);const botResponse={id:Date.now()+1,text:response.data.response,sender:'bot',timestamp:new Date(),followUpQuestions:response.data.follow_up_questions};setMessages(prev=>[...prev,botResponse]);}catch(error){var _error$response;console.error('Error sending message:',error);console.log('ChatBot Debug - Error details:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);const errorMessage={id:Date.now()+1,text:\"Sorry, I encountered an error processing your request. Please try again later.\",sender:'bot',timestamp:new Date(),error:true};setMessages(prev=>[...prev,errorMessage]);}finally{var _inputRef$current;setIsLoading(false);(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};const askFollowUpQuestion=question=>{var _inputRef$current2;setInputMessage(question);(_inputRef$current2=inputRef.current)===null||_inputRef$current2===void 0?void 0:_inputRef$current2.focus();};const formatTimestamp=timestamp=>{return timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(_Fragment,{children:[!isOpen&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(true),className:\"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50 group\",\"aria-label\":\"Open AI Assistant\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-pulse\"})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-lg shadow-2xl flex flex-col z-50 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg\",children:\"AI Assistant\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),className:\"text-white hover:text-gray-200 transition-colors\",\"aria-label\":\"Close chat\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-100 mt-1\",children:\"Ask me about student performance, risk analysis, or academic insights\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.sender==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-3 rounded-lg \".concat(message.sender==='user'?'bg-blue-600 text-white':message.error?'bg-red-100 text-red-800 border border-red-200':'bg-white border border-gray-200 text-gray-800'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm whitespace-pre-wrap\",children:message.text}),message.sender==='bot'&&!message.error&&message.followUpQuestions&&message.followUpQuestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-600 mb-1\",children:\"Suggested questions:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:message.followUpQuestions.map((question,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>askFollowUpQuestion(question),className:\"block w-full text-left text-xs bg-gray-100 hover:bg-gray-200 p-2 rounded transition-colors\",children:[\"\\uD83D\\uDCAC \",question]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-xs \".concat(message.sender==='user'?'text-blue-100':'text-gray-400'),children:formatTimestamp(message.timestamp)})]})},message.id)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 rounded-lg px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Thinking...\"})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 p-4 bg-white rounded-b-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask about student performance, risk analysis, or academic insights...\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",rows:2,disabled:isLoading})}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:!inputMessage.trim()||isLoading,className:\"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputMessage(\"How many students are at risk and why?\"),className:\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\",children:\"\\uD83D\\uDCCA Risk Analysis\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputMessage(\"What is my current performance status?\"),className:\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\",children:\"\\uD83D\\uDCC8 My Performance\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputMessage(\"Compare class performance by major\"),className:\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\",children:\"\\uD83D\\uDCDA Class Comparison\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputMessage(\"What factors affect student success?\"),className:\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\",children:\"\\uD83D\\uDD0D Success Factors\"})]})]})]})]});};export default ChatBot;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatBot","user","messages","setMessages","id","text","sender","timestamp","Date","inputMessage","setInputMessage","isLoading","setIsLoading","sessionId","concat","now","Math","random","toString","substr","isOpen","setIsOpen","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","generateSessionId","sendMessage","trim","console","log","email","error","errorMessage","prev","messageToSend","userMessage","response","post","message","session_id","user_email","headers","data","botResponse","followUpQuestions","follow_up_questions","_error$response","_inputRef$current","focus","handleKeyPress","e","key","shiftKey","preventDefault","askFollowUpQuestion","question","_inputRef$current2","formatTimestamp","toLocaleTimeString","hour","minute","children","onClick","className","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","length","index","style","animationDelay","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled"],"sources":["C:/Student Detection System/frontend/src/components/ChatBot.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ChatBot = () => {\r\n  const { user } = useAuth();\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: 1,\r\n      text: \"Hello! I'm your AI assistant. I can help you with questions about student performance, risk analysis, and academic insights. What would you like to know?\",\r\n      sender: 'bot',\r\n      timestamp: new Date()\r\n    }\r\n  ]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [sessionId] = useState(`session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const generateSessionId = () => {\r\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n    \r\n    console.log('ChatBot Debug - User object:', user);\r\n    console.log('ChatBot Debug - User email:', user?.email);\r\n    console.log('ChatBot Debug - User logged in:', !!user);\r\n    console.log('ChatBot Debug - Input message:', inputMessage);\r\n\r\n    // Check if user is authenticated\r\n    if (!user || !user.email) {\r\n      console.error('ChatBot Error - User not authenticated');\r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        text: \"Please log in to use the chatbot. User authentication is required.\",\r\n        sender: 'bot',\r\n        timestamp: new Date(),\r\n        error: true\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n      return;\r\n    }\r\n\r\n    const messageToSend = inputMessage.trim();\r\n    \r\n    const userMessage = {\r\n      id: Date.now(),\r\n      text: messageToSend,\r\n      sender: 'user',\r\n      timestamp: new Date()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        'http://localhost:8004/api/chatbot/chat',\r\n        {\r\n          message: messageToSend,\r\n          session_id: sessionId,\r\n          user_email: user.email\r\n        },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      );\r\n\r\n      console.log('ChatBot Debug - API Response:', response.data);\r\n\r\n      const botResponse = {\r\n        id: Date.now() + 1,\r\n        text: response.data.response,\r\n        sender: 'bot',\r\n        timestamp: new Date(),\r\n        followUpQuestions: response.data.follow_up_questions\r\n      };\r\n\r\n      setMessages(prev => [...prev, botResponse]);\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      console.log('ChatBot Debug - Error details:', error.response?.data);\r\n      \r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        text: \"Sorry, I encountered an error processing your request. Please try again later.\",\r\n        sender: 'bot',\r\n        timestamp: new Date(),\r\n        error: true\r\n      };\r\n\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      inputRef.current?.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  const askFollowUpQuestion = (question) => {\r\n    setInputMessage(question);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    return timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Chat Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50 group\"\r\n          aria-label=\"Open AI Assistant\"\r\n        >\r\n          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n          </svg>\r\n          <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-pulse\"></div>\r\n        </button>\r\n      )}\r\n\r\n      {/* Chat Window */}\r\n      {isOpen && (\r\n        <div className=\"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-lg shadow-2xl flex flex-col z-50 border border-gray-200\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-3 h-3 bg-green-400 rounded-full animate-pulse\"></div>\r\n                <h3 className=\"font-semibold text-lg\">AI Assistant</h3>\r\n              </div>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n                aria-label=\"Close chat\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <p className=\"text-sm text-blue-100 mt-1\">\r\n              Ask me about student performance, risk analysis, or academic insights\r\n            </p>\r\n          </div>\r\n\r\n          {/* Messages Container */}\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n        {messages.map((message) => (\r\n          <div\r\n            key={message.id}\r\n            className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\r\n          >\r\n            <div\r\n              className={`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${\r\n                message.sender === 'user'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : message.error\r\n                  ? 'bg-red-100 text-red-800 border border-red-200'\r\n                  : 'bg-white border border-gray-200 text-gray-800'\r\n              }`}\r\n            >\r\n              {/* Message Text */}\r\n              <p className=\"text-sm whitespace-pre-wrap\">{message.text}</p>\r\n\r\n              {/* Follow-up Questions */}\r\n              {message.sender === 'bot' && !message.error && message.followUpQuestions && message.followUpQuestions.length > 0 && (\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-xs font-medium text-gray-600 mb-1\">Suggested questions:</p>\r\n                  <div className=\"space-y-1\">\r\n                    {message.followUpQuestions.map((question, index) => (\r\n                      <button\r\n                        key={index}\r\n                        onClick={() => askFollowUpQuestion(question)}\r\n                        className=\"block w-full text-left text-xs bg-gray-100 hover:bg-gray-200 p-2 rounded transition-colors\"\r\n                      >\r\n                        üí¨ {question}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Timestamp */}\r\n              <div className={`mt-1 text-xs ${\r\n                message.sender === 'user' ? 'text-blue-100' : 'text-gray-400'\r\n              }`}>\r\n                {formatTimestamp(message.timestamp)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        {/* Loading Indicator */}\r\n        {isLoading && (\r\n          <div className=\"flex justify-start\">\r\n            <div className=\"bg-white border border-gray-200 rounded-lg px-4 py-3\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\r\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                <span className=\"text-sm text-gray-600\">Thinking...</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Input Area */}\r\n          <div className=\"border-t border-gray-200 p-4 bg-white rounded-b-lg\">\r\n        <div className=\"flex items-end space-x-2\">\r\n          <div className=\"flex-1\">\r\n            <textarea\r\n              ref={inputRef}\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Ask about student performance, risk analysis, or academic insights...\"\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              rows={2}\r\n              disabled={isLoading}\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={sendMessage}\r\n            disabled={!inputMessage.trim() || isLoading}\r\n            className=\"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n          >\r\n            {isLoading ? (\r\n              <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n            ) : (\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n              </svg>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"mt-3 flex flex-wrap gap-2\">\r\n          <button\r\n            onClick={() => setInputMessage(\"How many students are at risk and why?\")}\r\n            className=\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\"\r\n          >\r\n            üìä Risk Analysis\r\n          </button>\r\n          <button\r\n            onClick={() => setInputMessage(\"What is my current performance status?\")}\r\n            className=\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\"\r\n          >\r\n            üìà My Performance\r\n          </button>\r\n          <button\r\n            onClick={() => setInputMessage(\"Compare class performance by major\")}\r\n            className=\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\"\r\n          >\r\n            üìö Class Comparison\r\n          </button>\r\n          <button\r\n            onClick={() => setInputMessage(\"What factors affect student success?\")}\r\n            className=\"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors\"\r\n          >\r\n            üîç Success Factors\r\n          </button>\r\n        </div>\r\n      </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatBot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}