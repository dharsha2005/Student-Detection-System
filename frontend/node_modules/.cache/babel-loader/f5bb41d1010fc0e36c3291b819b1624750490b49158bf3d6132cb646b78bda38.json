{"ast":null,"code":"var _jsxFileName = \"C:\\\\Student Detection System\\\\frontend\\\\src\\\\pages\\\\StudentProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentProfile = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [student, setStudent] = useState(null);\n  const [predictions, setPredictions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (!user) {\n      setError('Please login to view your profile');\n      setLoading(false);\n      return;\n    }\n    console.log('ðŸ” User data:', user);\n    console.log('ðŸ” User ID type:', typeof user.id);\n    console.log('ðŸ” User ID value:', user.id);\n    const studentId = user.id;\n    const loadStudentData = async () => {\n      // First check localStorage for academic data\n      const storedAcademicData = localStorage.getItem(`academic_${user.email.toLowerCase()}`);\n      if (storedAcademicData) {\n        try {\n          const academicData = JSON.parse(storedAcademicData);\n\n          // Validate that academicData has required fields\n          if (academicData && typeof academicData === 'object' && academicData.attendance_percentage !== undefined) {\n            const studentData = {\n              id: studentId,\n              name: user.name,\n              email: user.email,\n              ...academicData,\n              socio_academic_factors: academicData.socio_academic_factors || '{\"family_income\": \"medium\", \"parent_education\": \"college\"}'\n            };\n            setStudent(studentData);\n            setLoading(false);\n            return;\n          } else {\n            localStorage.removeItem(`academic_${user.email.toLowerCase()}`);\n          }\n        } catch (parseError) {\n          localStorage.removeItem(`academic_${user.email.toLowerCase()}`);\n        }\n      }\n\n      // If no localStorage data, try backend\n      console.log('ðŸ” No localStorage data, trying backend...');\n      try {\n        const response = await axios.get(`http://localhost:8002/api/students/by-user/${user.id}`);\n        console.log('ðŸ” Backend response:', response.data);\n        if (response.data && response.data.attendance_percentage !== undefined) {\n          setStudent(response.data);\n        } else {\n          setError('Please add your academic details first using the \"Add Academic Details\" button in the navbar');\n        }\n      } catch (backendError) {\n        console.log('ðŸ” Backend not available and no localStorage data:', backendError);\n        // Show message to add academic details\n        setError('Please add your academic details first using the \"Add Academic Details\" button in the navbar');\n      }\n      setLoading(false);\n    };\n    loadStudentData();\n\n    // Load predictions\n    const loadPredictions = async () => {\n      // Fallback to localStorage\n      const storedPredictions = localStorage.getItem(`predictions_${user.email.toLowerCase()}`);\n      if (storedPredictions) {\n        try {\n          setPredictions(JSON.parse(storedPredictions));\n        } catch (e) {\n          setPredictions([]);\n        }\n      }\n    };\n    loadPredictions();\n  }, [user]);\n\n  // Clear predictions when student data is updated\n  useEffect(() => {\n    if (student && student.attendance_percentage !== undefined) {\n      console.log('ðŸ”„ Student data updated, clearing predictions');\n      setPredictions([]);\n      localStorage.removeItem(`predictions_${user.email.toLowerCase()}`);\n    }\n  }, [student]);\n  const generatePrediction = async () => {\n    if (!student) return;\n    setLoading(true);\n    try {\n      console.log('ðŸ¤– Sending data to ML service:', student);\n\n      // Call actual ML service\n      const mlRequest = {\n        student_id: student.id || student._id,\n        attendance_percentage: student.attendance_percentage,\n        internal_marks: student.internal_marks,\n        assignment_scores: student.assignment_scores,\n        lab_performance: student.lab_performance,\n        previous_gpa: student.previous_gpa,\n        study_hours: student.study_hours,\n        socio_academic_factors: typeof student.socio_academic_factors === 'string' ? JSON.parse(student.socio_academic_factors) : student.socio_academic_factors,\n        participation_metrics: student.participation_metrics\n      };\n      const response = await axios.post('http://localhost:8001/predict', mlRequest);\n      console.log('ðŸ¤– ML service response:', response.data);\n      const newPrediction = {\n        id: Date.now(),\n        predicted_performance: response.data.predicted_performance,\n        risk_score: response.data.risk_score,\n        recommendations: Array.isArray(response.data.recommendations) ? response.data.recommendations : response.data.recommendations,\n        created_at: new Date().toISOString()\n      };\n\n      // Save to localStorage\n      const updatedPredictions = [newPrediction, ...predictions];\n      setPredictions(updatedPredictions);\n      localStorage.setItem(`predictions_${user.email.toLowerCase()}`, JSON.stringify(updatedPredictions));\n      console.log('âœ… ML prediction saved:', newPrediction);\n    } catch (mlError) {\n      console.error('âŒ ML service error:', mlError);\n\n      // Comprehensive behavioral analysis if ML service fails\n      const performanceScore = calculateComprehensivePerformance(student);\n      const riskScore = calculateBehavioralRisk(student);\n      const recommendations = generateBehavioralRecommendations(student);\n      const newPrediction = {\n        id: Date.now(),\n        predicted_performance: performanceScore.level,\n        risk_score: riskScore.score,\n        recommendations: recommendations,\n        created_at: new Date().toISOString()\n      };\n\n      // Save to localStorage\n      const updatedPredictions = [newPrediction, ...predictions];\n      setPredictions(updatedPredictions);\n      localStorage.setItem(`predictions_${user.email.toLowerCase()}`, JSON.stringify(updatedPredictions));\n      console.log('âš ï¸ Used behavioral analysis due to ML error:', newPrediction);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Comprehensive performance calculation based on all behaviors\n  const calculateComprehensivePerformance = student => {\n    const weights = {\n      attendance: 0.25,\n      internalMarks: 0.20,\n      assignments: 0.20,\n      lab: 0.15,\n      gpa: 0.15,\n      studyHours: 0.05,\n      participation: 0.10\n    };\n\n    // Normalize values (0-100 scale where applicable)\n    const normalizedScores = {\n      attendance: Math.min(100, student.attendance_percentage / 100 * 100),\n      internalMarks: Math.min(100, student.internal_marks / 100 * 100),\n      assignments: Math.min(100, student.assignment_scores / 100 * 100),\n      lab: Math.min(100, student.lab_performance / 100 * 100),\n      gpa: Math.min(100, student.previous_gpa / 4.0 * 100),\n      studyHours: Math.min(100, Math.max(0, (student.study_hours - 10) * 5)),\n      // 10-30 hours = 0-100 scale\n      participation: student.participation_metrics || 0\n    };\n\n    // Calculate weighted score\n    const weightedScore = normalizedScores.attendance * weights.attendance + normalizedScores.internalMarks * weights.internalMarks + normalizedScores.assignments * weights.assignments + normalizedScores.lab * weights.lab + normalizedScores.gpa * weights.gpa + normalizedScores.studyHours * weights.studyHours + normalizedScores.participation * weights.participation;\n\n    // Determine performance level\n    let level, color, description;\n    if (weightedScore >= 85) {\n      level = 'Excellent';\n      color = 'text-green-600';\n      description = 'Outstanding academic performance across all metrics';\n    } else if (weightedScore >= 75) {\n      level = 'High';\n      color = 'text-blue-600';\n      description = 'Strong academic performance with good consistency';\n    } else if (weightedScore >= 65) {\n      level = 'Medium';\n      color = 'text-yellow-600';\n      description = 'Moderate performance with room for improvement';\n    } else if (weightedScore >= 50) {\n      level = 'Low';\n      color = 'text-orange-600';\n      description = 'Below average performance requiring attention';\n    } else {\n      level = 'Critical';\n      color = 'text-red-600';\n      description = 'Significant academic challenges identified';\n    }\n    return {\n      score: weightedScore,\n      level: level,\n      color: color,\n      description: description,\n      breakdown: {\n        attendance: normalizedScores.attendance,\n        internalMarks: normalizedScores.internalMarks,\n        assignments: normalizedScores.assignments,\n        lab: normalizedScores.lab,\n        gpa: normalizedScores.gpa,\n        studyHours: normalizedScores.studyHours,\n        participation: normalizedScores.participation\n      }\n    };\n  };\n\n  // Behavioral risk assessment\n  const calculateBehavioralRisk = student => {\n    const riskFactors = [];\n\n    // Attendance risk\n    if (student.attendance_percentage < 75) {\n      riskFactors.push({\n        factor: 'Low Attendance',\n        impact: 'High',\n        value: student.attendance_percentage\n      });\n    }\n\n    // Study hours risk\n    if (student.study_hours < 15) {\n      riskFactors.push({\n        factor: 'Insufficient Study Time',\n        impact: 'High',\n        value: student.study_hours\n      });\n    }\n\n    // Performance consistency risk\n    const avgPerformance = (student.internal_marks + student.assignment_scores + student.lab_performance) / 3;\n    const gpaDeviation = Math.abs(student.previous_gpa - avgPerformance / 25); // Rough conversion\n    if (gpaDeviation > 0.5) {\n      riskFactors.push({\n        factor: 'Performance Inconsistency',\n        impact: 'Medium',\n        value: gpaDeviation.toFixed(2)\n      });\n    }\n\n    // Participation risk\n    if (student.participation_metrics < 60) {\n      riskFactors.push({\n        factor: 'Low Participation',\n        impact: 'Medium',\n        value: student.participation_metrics\n      });\n    }\n\n    // Calculate overall risk score (0-1 scale)\n    const riskScore = Math.min(1.0, riskFactors.length * 0.15);\n    return {\n      score: riskScore,\n      level: riskScore >= 0.7 ? 'High' : riskScore >= 0.4 ? 'Medium' : 'Low',\n      factors: riskFactors\n    };\n  };\n\n  // Generate behavioral recommendations\n  const generateBehavioralRecommendations = student => {\n    const recommendations = [];\n\n    // Attendance-based recommendations\n    if (student.attendance_percentage < 80) {\n      recommendations.push({\n        category: 'Attendance',\n        priority: 'High',\n        text: 'Improve class attendance to at least 80%',\n        action: 'Set up study schedule and attend all classes'\n      });\n    }\n\n    // Study hours recommendations\n    if (student.study_hours < 20) {\n      recommendations.push({\n        category: 'Study Habits',\n        priority: 'High',\n        text: 'Increase weekly study hours to 20+ hours',\n        action: 'Create structured study plan with time blocks'\n      });\n    }\n\n    // Performance improvement recommendations\n    const avgScore = (student.internal_marks + student.assignment_scores + student.lab_performance) / 3;\n    if (student.internal_marks < avgScore - 5) {\n      recommendations.push({\n        category: 'Internal Assessments',\n        priority: 'Medium',\n        text: 'Focus on improving internal exam performance',\n        action: 'Practice with past papers and seek feedback'\n      });\n    }\n    if (student.assignment_scores < avgScore - 5) {\n      recommendations.push({\n        category: 'Assignments',\n        priority: 'Medium',\n        text: 'Improve assignment quality and submission timeliness',\n        action: 'Break down assignments and start earlier'\n      });\n    }\n\n    // Lab performance recommendations\n    if (student.lab_performance < avgScore - 5) {\n      recommendations.push({\n        category: 'Lab Work',\n        priority: 'Medium',\n        text: 'Enhance practical skills and lab participation',\n        action: 'Practice lab exercises and seek help from instructors'\n      });\n    }\n\n    // Participation recommendations\n    if (student.participation_metrics < 70) {\n      recommendations.push({\n        category: 'Class Engagement',\n        priority: 'Medium',\n        text: 'Increase class participation and ask questions',\n        action: 'Join study groups and participate in discussions'\n      });\n    }\n\n    // GPA-specific recommendations\n    if (student.previous_gpa < 2.5) {\n      recommendations.push({\n        category: 'Academic Standing',\n        priority: 'High',\n        text: 'Focus on foundational concepts and seek tutoring',\n        action: 'Meet with academic advisor for improvement plan'\n      });\n    } else if (student.previous_gpa < 3.0) {\n      recommendations.push({\n        category: 'Academic Standing',\n        priority: 'Low',\n        text: 'Work on consistency and advanced topics',\n        action: 'Set higher GPA goals and track progress'\n      });\n    }\n\n    // Sort by priority and return formatted recommendations\n    return recommendations.sort((a, b) => {\n      const priorityOrder = {\n        'High': 3,\n        'Medium': 2,\n        'Low': 1\n      };\n      return priorityOrder[b.priority] - priorityOrder[a.priority];\n    }).map(rec => `${rec.priority} Priority: ${rec.text} (${rec.action})`);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 62\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-red-600\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 60\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 21\n  }, this);\n  if (!student) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"Student not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 63\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 373,\n    columnNumber: 24\n  }, this);\n  const getRiskColor = riskScore => {\n    if (riskScore < 0.3) return 'text-green-600';\n    if (riskScore < 0.7) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n  const getPerformanceColor = performance => {\n    switch (performance === null || performance === void 0 ? void 0 : performance.toLowerCase()) {\n      case 'high':\n        return 'text-green-600';\n      case 'medium':\n        return 'text-yellow-600';\n      case 'low':\n        return 'text-red-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"Student Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-md mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Personal Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 14\n          }, this), \" \", student.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 14\n          }, this), \" \", student.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Major:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 14\n          }, this), \" \", student.major || 'Not specified']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Enrollment Year:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 14\n          }, this), \" \", student.enrollment_year || 'Not specified']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-md mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Academic Performance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: [student.attendance_percentage || 0, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: student.previous_gpa || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Previous GPA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-purple-600\",\n            children: student.study_hours || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Study Hours/Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-orange-600\",\n            children: [student.participation_metrics || 0, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Participation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold\",\n          children: \"Performance Predictions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), predictions.length === 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generatePrediction,\n          className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",\n          children: \"Generate New Prediction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), predictions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: predictions.map(pred => {\n          var _pred$risk_score;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: \"Predicted Performance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-lg font-bold ${getPerformanceColor(pred.predicted_performance)}`,\n                  children: pred.predicted_performance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: \"Risk Score:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-lg font-bold ${getRiskColor(pred.risk_score)}`,\n                  children: ((_pred$risk_score = pred.risk_score) === null || _pred$risk_score === void 0 ? void 0 : _pred$risk_score.toFixed(2)) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: new Date(pred.created_at).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold mb-2\",\n                children: \"Recommendations:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-disc list-inside space-y-1\",\n                children: (() => {\n                  try {\n                    const recs = typeof pred.recommendations === 'string' ? JSON.parse(pred.recommendations) : pred.recommendations;\n                    return Array.isArray(recs) ? recs.map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: rec\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 54\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: recs\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 29\n                    }, this);\n                  } catch (e) {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: pred.recommendations\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 32\n                    }, this);\n                  }\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)]\n          }, pred.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"No predictions available yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Click \\\"Generate New Prediction\\\" to create your first performance prediction based on your academic data.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentProfile, \"zcg8MAXUMsbIFE0DfxHdhhr6t/0=\", false, function () {\n  return [useAuth];\n});\n_c = StudentProfile;\nexport default StudentProfile;\nvar _c;\n$RefreshReg$(_c, \"StudentProfile\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","axios","jsxDEV","_jsxDEV","StudentProfile","_s","user","student","setStudent","predictions","setPredictions","loading","setLoading","error","setError","console","log","id","studentId","loadStudentData","storedAcademicData","localStorage","getItem","email","toLowerCase","academicData","JSON","parse","attendance_percentage","undefined","studentData","name","socio_academic_factors","removeItem","parseError","response","get","data","backendError","loadPredictions","storedPredictions","e","generatePrediction","mlRequest","student_id","_id","internal_marks","assignment_scores","lab_performance","previous_gpa","study_hours","participation_metrics","post","newPrediction","Date","now","predicted_performance","risk_score","recommendations","Array","isArray","created_at","toISOString","updatedPredictions","setItem","stringify","mlError","performanceScore","calculateComprehensivePerformance","riskScore","calculateBehavioralRisk","generateBehavioralRecommendations","level","score","weights","attendance","internalMarks","assignments","lab","gpa","studyHours","participation","normalizedScores","Math","min","max","weightedScore","color","description","breakdown","riskFactors","push","factor","impact","value","avgPerformance","gpaDeviation","abs","toFixed","length","factors","category","priority","text","action","avgScore","sort","a","b","priorityOrder","map","rec","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getRiskColor","getPerformanceColor","performance","major","enrollment_year","onClick","pred","_pred$risk_score","toLocaleDateString","recs","index","_c","$RefreshReg$"],"sources":["C:/Student Detection System/frontend/src/pages/StudentProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst StudentProfile = () => {\r\n  const { user } = useAuth();\r\n  const [student, setStudent] = useState(null);\r\n  const [predictions, setPredictions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setError('Please login to view your profile');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    console.log('ðŸ” User data:', user);\r\n    console.log('ðŸ” User ID type:', typeof user.id);\r\n    console.log('ðŸ” User ID value:', user.id);\r\n\r\n    const studentId = user.id;\r\n    \r\n    const loadStudentData = async () => {\r\n      // First check localStorage for academic data\r\n      const storedAcademicData = localStorage.getItem(`academic_${user.email.toLowerCase()}`);\r\n      \r\n      if (storedAcademicData) {\r\n        try {\r\n          const academicData = JSON.parse(storedAcademicData);\r\n          \r\n          // Validate that academicData has required fields\r\n          if (academicData && typeof academicData === 'object' && academicData.attendance_percentage !== undefined) {\r\n            const studentData = {\r\n              id: studentId,\r\n              name: user.name,\r\n              email: user.email,\r\n              ...academicData,\r\n              socio_academic_factors: academicData.socio_academic_factors || '{\"family_income\": \"medium\", \"parent_education\": \"college\"}'\r\n            };\r\n            \r\n            setStudent(studentData);\r\n            setLoading(false);\r\n            return;\r\n          } else {\r\n            localStorage.removeItem(`academic_${user.email.toLowerCase()}`);\r\n          }\r\n        } catch (parseError) {\r\n          localStorage.removeItem(`academic_${user.email.toLowerCase()}`);\r\n        }\r\n      }\r\n\r\n      // If no localStorage data, try backend\r\n      console.log('ðŸ” No localStorage data, trying backend...');\r\n      try {\r\n        const response = await axios.get(`http://localhost:8002/api/students/by-user/${user.id}`);\r\n        console.log('ðŸ” Backend response:', response.data);\r\n        if (response.data && response.data.attendance_percentage !== undefined) {\r\n          setStudent(response.data);\r\n        } else {\r\n          setError('Please add your academic details first using the \"Add Academic Details\" button in the navbar');\r\n        }\r\n      } catch (backendError) {\r\n        console.log('ðŸ” Backend not available and no localStorage data:', backendError);\r\n        // Show message to add academic details\r\n        setError('Please add your academic details first using the \"Add Academic Details\" button in the navbar');\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    loadStudentData();\r\n    \r\n    // Load predictions\r\n    const loadPredictions = async () => {\r\n      // Fallback to localStorage\r\n      const storedPredictions = localStorage.getItem(`predictions_${user.email.toLowerCase()}`);\r\n      if (storedPredictions) {\r\n        try {\r\n          setPredictions(JSON.parse(storedPredictions));\r\n        } catch (e) {\r\n          setPredictions([]);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadPredictions();\r\n  }, [user]);\r\n\r\n  // Clear predictions when student data is updated\r\n  useEffect(() => {\r\n    if (student && student.attendance_percentage !== undefined) {\r\n      console.log('ðŸ”„ Student data updated, clearing predictions');\r\n      setPredictions([]);\r\n      localStorage.removeItem(`predictions_${user.email.toLowerCase()}`);\r\n    }\r\n  }, [student]);\r\n\r\n  const generatePrediction = async () => {\r\n    if (!student) return;\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      console.log('ðŸ¤– Sending data to ML service:', student);\r\n      \r\n      // Call actual ML service\r\n      const mlRequest = {\r\n        student_id: student.id || student._id,\r\n        attendance_percentage: student.attendance_percentage,\r\n        internal_marks: student.internal_marks,\r\n        assignment_scores: student.assignment_scores,\r\n        lab_performance: student.lab_performance,\r\n        previous_gpa: student.previous_gpa,\r\n        study_hours: student.study_hours,\r\n        socio_academic_factors: typeof student.socio_academic_factors === 'string' \r\n          ? JSON.parse(student.socio_academic_factors) \r\n          : student.socio_academic_factors,\r\n        participation_metrics: student.participation_metrics\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:8001/predict', mlRequest);\r\n      console.log('ðŸ¤– ML service response:', response.data);\r\n      \r\n      const newPrediction = {\r\n        id: Date.now(),\r\n        predicted_performance: response.data.predicted_performance,\r\n        risk_score: response.data.risk_score,\r\n        recommendations: Array.isArray(response.data.recommendations) \r\n          ? response.data.recommendations \r\n          : response.data.recommendations,\r\n        created_at: new Date().toISOString()\r\n      };\r\n\r\n      // Save to localStorage\r\n      const updatedPredictions = [newPrediction, ...predictions];\r\n      setPredictions(updatedPredictions);\r\n      localStorage.setItem(`predictions_${user.email.toLowerCase()}`, JSON.stringify(updatedPredictions));\r\n      \r\n      console.log('âœ… ML prediction saved:', newPrediction);\r\n      \r\n    } catch (mlError) {\r\n      console.error('âŒ ML service error:', mlError);\r\n      \r\n      // Comprehensive behavioral analysis if ML service fails\r\n      const performanceScore = calculateComprehensivePerformance(student);\r\n      const riskScore = calculateBehavioralRisk(student);\r\n      const recommendations = generateBehavioralRecommendations(student);\r\n      \r\n      const newPrediction = {\r\n        id: Date.now(),\r\n        predicted_performance: performanceScore.level,\r\n        risk_score: riskScore.score,\r\n        recommendations: recommendations,\r\n        created_at: new Date().toISOString()\r\n      };\r\n\r\n      // Save to localStorage\r\n      const updatedPredictions = [newPrediction, ...predictions];\r\n      setPredictions(updatedPredictions);\r\n      localStorage.setItem(`predictions_${user.email.toLowerCase()}`, JSON.stringify(updatedPredictions));\r\n      \r\n      console.log('âš ï¸ Used behavioral analysis due to ML error:', newPrediction);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Comprehensive performance calculation based on all behaviors\r\n  const calculateComprehensivePerformance = (student) => {\r\n    const weights = {\r\n      attendance: 0.25,\r\n      internalMarks: 0.20,\r\n      assignments: 0.20,\r\n      lab: 0.15,\r\n      gpa: 0.15,\r\n      studyHours: 0.05,\r\n      participation: 0.10\r\n    };\r\n\r\n    // Normalize values (0-100 scale where applicable)\r\n    const normalizedScores = {\r\n      attendance: Math.min(100, (student.attendance_percentage / 100) * 100),\r\n      internalMarks: Math.min(100, (student.internal_marks / 100) * 100),\r\n      assignments: Math.min(100, (student.assignment_scores / 100) * 100),\r\n      lab: Math.min(100, (student.lab_performance / 100) * 100),\r\n      gpa: Math.min(100, (student.previous_gpa / 4.0) * 100),\r\n      studyHours: Math.min(100, Math.max(0, (student.study_hours - 10) * 5)), // 10-30 hours = 0-100 scale\r\n      participation: student.participation_metrics || 0\r\n    };\r\n\r\n    // Calculate weighted score\r\n    const weightedScore = \r\n      (normalizedScores.attendance * weights.attendance) +\r\n      (normalizedScores.internalMarks * weights.internalMarks) +\r\n      (normalizedScores.assignments * weights.assignments) +\r\n      (normalizedScores.lab * weights.lab) +\r\n      (normalizedScores.gpa * weights.gpa) +\r\n      (normalizedScores.studyHours * weights.studyHours) +\r\n      (normalizedScores.participation * weights.participation);\r\n\r\n    // Determine performance level\r\n    let level, color, description;\r\n    if (weightedScore >= 85) {\r\n      level = 'Excellent';\r\n      color = 'text-green-600';\r\n      description = 'Outstanding academic performance across all metrics';\r\n    } else if (weightedScore >= 75) {\r\n      level = 'High';\r\n      color = 'text-blue-600';\r\n      description = 'Strong academic performance with good consistency';\r\n    } else if (weightedScore >= 65) {\r\n      level = 'Medium';\r\n      color = 'text-yellow-600';\r\n      description = 'Moderate performance with room for improvement';\r\n    } else if (weightedScore >= 50) {\r\n      level = 'Low';\r\n      color = 'text-orange-600';\r\n      description = 'Below average performance requiring attention';\r\n    } else {\r\n      level = 'Critical';\r\n      color = 'text-red-600';\r\n      description = 'Significant academic challenges identified';\r\n    }\r\n\r\n    return {\r\n      score: weightedScore,\r\n      level: level,\r\n      color: color,\r\n      description: description,\r\n      breakdown: {\r\n        attendance: normalizedScores.attendance,\r\n        internalMarks: normalizedScores.internalMarks,\r\n        assignments: normalizedScores.assignments,\r\n        lab: normalizedScores.lab,\r\n        gpa: normalizedScores.gpa,\r\n        studyHours: normalizedScores.studyHours,\r\n        participation: normalizedScores.participation\r\n      }\r\n    };\r\n  };\r\n\r\n  // Behavioral risk assessment\r\n  const calculateBehavioralRisk = (student) => {\r\n    const riskFactors = [];\r\n\r\n    // Attendance risk\r\n    if (student.attendance_percentage < 75) {\r\n      riskFactors.push({ factor: 'Low Attendance', impact: 'High', value: student.attendance_percentage });\r\n    }\r\n\r\n    // Study hours risk\r\n    if (student.study_hours < 15) {\r\n      riskFactors.push({ factor: 'Insufficient Study Time', impact: 'High', value: student.study_hours });\r\n    }\r\n\r\n    // Performance consistency risk\r\n    const avgPerformance = (student.internal_marks + student.assignment_scores + student.lab_performance) / 3;\r\n    const gpaDeviation = Math.abs(student.previous_gpa - (avgPerformance / 25)); // Rough conversion\r\n    if (gpaDeviation > 0.5) {\r\n      riskFactors.push({ factor: 'Performance Inconsistency', impact: 'Medium', value: gpaDeviation.toFixed(2) });\r\n    }\r\n\r\n    // Participation risk\r\n    if (student.participation_metrics < 60) {\r\n      riskFactors.push({ factor: 'Low Participation', impact: 'Medium', value: student.participation_metrics });\r\n    }\r\n\r\n    // Calculate overall risk score (0-1 scale)\r\n    const riskScore = Math.min(1.0, riskFactors.length * 0.15);\r\n    \r\n    return {\r\n      score: riskScore,\r\n      level: riskScore >= 0.7 ? 'High' : riskScore >= 0.4 ? 'Medium' : 'Low',\r\n      factors: riskFactors\r\n    };\r\n  };\r\n\r\n  // Generate behavioral recommendations\r\n  const generateBehavioralRecommendations = (student) => {\r\n    const recommendations = [];\r\n\r\n    // Attendance-based recommendations\r\n    if (student.attendance_percentage < 80) {\r\n      recommendations.push({\r\n        category: 'Attendance',\r\n        priority: 'High',\r\n        text: 'Improve class attendance to at least 80%',\r\n        action: 'Set up study schedule and attend all classes'\r\n      });\r\n    }\r\n\r\n    // Study hours recommendations\r\n    if (student.study_hours < 20) {\r\n      recommendations.push({\r\n        category: 'Study Habits',\r\n        priority: 'High',\r\n        text: 'Increase weekly study hours to 20+ hours',\r\n        action: 'Create structured study plan with time blocks'\r\n      });\r\n    }\r\n\r\n    // Performance improvement recommendations\r\n    const avgScore = (student.internal_marks + student.assignment_scores + student.lab_performance) / 3;\r\n    if (student.internal_marks < avgScore - 5) {\r\n      recommendations.push({\r\n        category: 'Internal Assessments',\r\n        priority: 'Medium',\r\n        text: 'Focus on improving internal exam performance',\r\n        action: 'Practice with past papers and seek feedback'\r\n      });\r\n    }\r\n\r\n    if (student.assignment_scores < avgScore - 5) {\r\n      recommendations.push({\r\n        category: 'Assignments',\r\n        priority: 'Medium',\r\n        text: 'Improve assignment quality and submission timeliness',\r\n        action: 'Break down assignments and start earlier'\r\n      });\r\n    }\r\n\r\n    // Lab performance recommendations\r\n    if (student.lab_performance < avgScore - 5) {\r\n      recommendations.push({\r\n        category: 'Lab Work',\r\n        priority: 'Medium',\r\n        text: 'Enhance practical skills and lab participation',\r\n        action: 'Practice lab exercises and seek help from instructors'\r\n      });\r\n    }\r\n\r\n    // Participation recommendations\r\n    if (student.participation_metrics < 70) {\r\n      recommendations.push({\r\n        category: 'Class Engagement',\r\n        priority: 'Medium',\r\n        text: 'Increase class participation and ask questions',\r\n        action: 'Join study groups and participate in discussions'\r\n      });\r\n    }\r\n\r\n    // GPA-specific recommendations\r\n    if (student.previous_gpa < 2.5) {\r\n      recommendations.push({\r\n        category: 'Academic Standing',\r\n        priority: 'High',\r\n        text: 'Focus on foundational concepts and seek tutoring',\r\n        action: 'Meet with academic advisor for improvement plan'\r\n      });\r\n    } else if (student.previous_gpa < 3.0) {\r\n      recommendations.push({\r\n        category: 'Academic Standing',\r\n        priority: 'Low',\r\n        text: 'Work on consistency and advanced topics',\r\n        action: 'Set higher GPA goals and track progress'\r\n      });\r\n    }\r\n\r\n    // Sort by priority and return formatted recommendations\r\n    return recommendations\r\n      .sort((a, b) => {\r\n        const priorityOrder = { 'High': 3, 'Medium': 2, 'Low': 1 };\r\n        return priorityOrder[b.priority] - priorityOrder[a.priority];\r\n      })\r\n      .map(rec => `${rec.priority} Priority: ${rec.text} (${rec.action})`);\r\n  };\r\n\r\n  if (loading) return <div className=\"container mx-auto p-6\"><div className=\"text-center\">Loading...</div></div>;\r\n\r\n  if (error) return <div className=\"container mx-auto p-6\"><div className=\"text-center text-red-600\">{error}</div></div>;\r\n\r\n  if (!student) return <div className=\"container mx-auto p-6\"><div className=\"text-center\">Student not found</div></div>;\r\n\r\n  const getRiskColor = (riskScore) => {\r\n    if (riskScore < 0.3) return 'text-green-600';\r\n    if (riskScore < 0.7) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getPerformanceColor = (performance) => {\r\n    switch (performance?.toLowerCase()) {\r\n      case 'high': return 'text-green-600';\r\n      case 'medium': return 'text-yellow-600';\r\n      case 'low': return 'text-red-600';\r\n      default: return 'text-gray-600';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Student Profile</h1>\r\n      \r\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Personal Information</h2>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <p><strong>Name:</strong> {student.name}</p>\r\n          <p><strong>Email:</strong> {student.email}</p>\r\n          <p><strong>Major:</strong> {student.major || 'Not specified'}</p>\r\n          <p><strong>Enrollment Year:</strong> {student.enrollment_year || 'Not specified'}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Academic Performance</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-2xl font-bold text-blue-600\">{student.attendance_percentage || 0}%</p>\r\n            <p>Attendance</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-2xl font-bold text-green-600\">{student.previous_gpa || 0}</p>\r\n            <p>Previous GPA</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-2xl font-bold text-purple-600\">{student.study_hours || 0}</p>\r\n            <p>Study Hours/Week</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-2xl font-bold text-orange-600\">{student.participation_metrics || 0}%</p>\r\n            <p>Participation</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Performance Predictions</h2>\r\n          {predictions.length === 0 && (\r\n            <button \r\n              onClick={generatePrediction}\r\n              className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n            >\r\n              Generate New Prediction\r\n            </button>\r\n          )}\r\n        </div>\r\n        \r\n        {predictions.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {predictions.map(pred => (\r\n              <div key={pred.id} className=\"border p-4 rounded-lg\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <p className=\"font-semibold\">Predicted Performance:</p>\r\n                    <p className={`text-lg font-bold ${getPerformanceColor(pred.predicted_performance)}`}>\r\n                      {pred.predicted_performance}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold\">Risk Score:</p>\r\n                    <p className={`text-lg font-bold ${getRiskColor(pred.risk_score)}`}>\r\n                      {pred.risk_score?.toFixed(2) || 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-semibold\">Date:</p>\r\n                    <p>{new Date(pred.created_at).toLocaleDateString()}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-4\">\r\n                  <p className=\"font-semibold mb-2\">Recommendations:</p>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {(() => {\r\n                      try {\r\n                        const recs = typeof pred.recommendations === 'string' \r\n                          ? JSON.parse(pred.recommendations) \r\n                          : pred.recommendations;\r\n                        return Array.isArray(recs) \r\n                          ? recs.map((rec, index) => <li key={index}>{rec}</li>)\r\n                          : <li>{recs}</li>;\r\n                      } catch (e) {\r\n                        return <li>{pred.recommendations}</li>;\r\n                      }\r\n                    })()}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8\">\r\n            <p className=\"text-gray-600 mb-4\">No predictions available yet.</p>\r\n            <p className=\"text-sm text-gray-500\">Click \"Generate New Prediction\" to create your first performance prediction based on your academic data.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}